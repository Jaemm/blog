---
title: '전기 차도선 관제 시스템'
date: '2024-10-08'
lastmod: '2024-10-08'
tags: ['projects']
draft: false
summary: 'Git 명령어 모음'
images: ['/static/images/']
---

![aws-ec2-logo](/static/images/project/bms.jpg)

이 문서는 전기차 도선 관제 시스템 프로젝트의 기술 스택 및 사용된 
주요 라이브러리에 대한 설명을 제공합니다. 
이 시스템은 전기차의 배터리 상태와 사용량을 실시간으로 모니터링하고 관리할 수 있도록 설계되었습니다.

<TOCInline toc={props.toc} exclude="Introduction" />

## 프로젝트 개요
전기차 도선 관제 시스템은 React.js와 Next.js를 기반으로 하여 
배터리의 상태, 사용량, 통계 및 비상 시스템을 실시간으로 모니터링합니다. 
이 프로젝트는 데이터의 신뢰성을 높이고 사용자에게 직관적인 인터페이스를 제공하기 위해 
다양한 최신 웹 기술을 사용했습니다.

## 기술 스택
- 프론트엔드 : React.js, Next.js
- 백엔드 : Node.js, Express, Redis, DynamoDB, MySQL
- 상태 관리 : Recoil
- 실시간 통신 : Socket.IO-client
- HTTP 클라이언트 : Axios
- 개발 환경 및 빌드 도구 : PM2, Cross-env

## 프론트엔드 주요 라이브러리 설명
### 1. React.js & Next.js
- React.js는 컴포넌트 기반의 UI 구축을 지원하는 라이브러리입니다. 
이 프로젝트에서는 배터리 상태와 사용량을 보여주는 다양한 UI 컴포넌트를 구현했습니다.
- Next.js는 서버 사이드 렌더링(SSR)과 정적 사이트 생성을 지원하여 SEO 최적화와 성능 향상에 기여했습니다. 
API 라우트를 활용하여 데이터 처리를 간편하게 할 수 있었습니다.

### 2. Recoil
Recoil은 React의 상태 관리 라이브러리로, 전역 상태 관리를 쉽게 할 수 있게 해줍니다. 
배터리 상태 및 사용량을 관리하여 실시간으로 데이터 업데이트가 가능합니다.
```
import { atom } from 'recoil';

export const batteryState = atom({
  key: 'batteryState',
  default: [],  // 초기 값
});
```
### 3. Socket.IO-client
Socket.IO-client는 실시간 통신을 위한 라이브러리로, 
서버와 클라이언트 간의 실시간 데이터 통신을 지원합니다. 
이를 통해 각 배터리의 상태를 실시간으로 반영할 수 있었습니다.
```
import { io } from 'socket.io-client';

const socket = io('https://server-url.com');
socket.on('batteryUpdate', (data) => {
  console.log(data);  // 실시간 데이터 수신
});
```
### 4. Chart.js & D3.js
- Chart.js는 사용량 및 통계 데이터를 시각화하는 데 사용되었습니다.
- D3.js는 복잡한 데이터 시각화에 활용되었습니다. 
대시보드에서 배터리 상태를 효과적으로 표현할 수 있습니다.
```
import { Line } from 'react-chartjs-2';

const data = {
  labels: ['January', 'February', 'March'],
  datasets: [
    {
      label: 'Battery Usage',
      data: [65, 59, 80],
      fill: false,
      backgroundColor: 'rgb(75, 192, 192)',
      borderColor: 'rgba(75, 192, 192, 0.2)',
    },
  ],
};
```
### 5. Axios
Axios는 서버와의 HTTP 요청을 처리하는 라이브러리로, RESTful API와의 통신을 담당합니다. 
배터리 정보를 조회하고 제어하는 데 유용하게 사용되었습니다.
```
import axios from 'axios';

axios.get('/api/battery')
  .then(response => {
    console.log(response.data);  // 배터리 상태 데이터 수신
  })
  .catch(error => {
    console.error('Error fetching battery data', error);
  });
```
### 6. Emotion
Emotion은 CSS-in-JS 라이브러리로, 동적인 스타일링을 적용할 수 있게 해줍니다. 
배터리 상태에 따라 UI가 변화하도록 구성할 수 있습니다.
```
/** @jsxImportSource @emotion/react */
import { css } from '@emotion/react';

const batteryStatusStyle = css`
  background-color: green;
  color: white;
  padding: 10px;
`;

const BatteryStatus = () => (
  <div css={batteryStatusStyle}>
    Battery is operational
  </div>
);
```
### 7. CKEditor
CKEditor는 리치 텍스트 편집기로, 
사용자가 시스템 이벤트에 대한 메모를 작성하거나 데이터를 기록할 수 있게 해줍니다.
```
import { CKEditor } from '@ckeditor/ckeditor5-react';
import ClassicEditor from '@ckeditor/ckeditor5-build-classic';

const EditorComponent = () => (
  <CKEditor
    editor={ClassicEditor}
    data="<p>Initial content</p>"
    onChange={(event, editor) => {
      const data = editor.getData();
      console.log({ event, editor, data });
    }}
  />
);
```
### 8. Moment.js
Moment.js는 날짜와 시간을 처리하기 위한 라이브러리로, 배터리 상태의 기록 시간을 관리하는 데 사용되었습니다.
```
import moment from 'moment';

const now = moment().format('YYYY-MM-DD HH:mm:ss');
console.log('Current DateTime:', now);  // 현재 날짜 및 시간 출력
```
### 9. SweetAlert2
SweetAlert2는 경고창을 제공하는 라이브러리로, 시스템 경고나 알림 메시지를 시각적으로 사용자에게 전달하는 데 사용됩니다.
```
import Swal from 'sweetalert2';

Swal.fire({
  title: 'Warning!',
  text: 'Battery level is critical',
  icon: 'warning',
  confirmButtonText: 'OK',
});
```

## 백엔드 주요 라이브러리 설명
### 1. aws-sdk
AWS 서비스와 통신하기 위한 공식 SDK입니다.
S3, DynamoDB 등의 AWS 리소스를 활용할 수 있습니다.
```
const AWS = require('aws-sdk');
const s3 = new AWS.S3();

s3.listBuckets((err, data) => {
  if (err) console.log(err);
  else console.log('Bucket List:', data.Buckets);
});
```
### 2. bcrypt
비밀번호 해싱을 위한 라이브러리입니다.
사용자의 비밀번호를 안전하게 저장하고 관리하는 데 사용됩니다.
```
const bcrypt = require('bcrypt');

const password = 'myPassword';
const hashedPassword = await bcrypt.hash(password, 10);
```
### 3. connect-redis
Redis와 Express 세션 관리를 연결하는 미들웨어입니다.
세션 데이터를 Redis에 저장하여 빠른 접근이 가능합니다.
```
const session = require('express-session');
const RedisStore = require('connect-redis')(session);
const redis = require('redis').createClient();

app.use(session({
  store: new RedisStore({ client: redis }),
  secret: 'your-secret',
  resave: false,
  saveUninitialized: false,
}));
```
### 4. cookie-parser
HTTP 요청에서 쿠키를 파싱하는 미들웨어입니다.
클라이언트의 쿠키 정보를 쉽게 처리할 수 있습니다.
```
const cookieParser = require('cookie-parser');
app.use(cookieParser());
```
### 5. cors
Cross-Origin Resource Sharing을 처리하는 미들웨어입니다.
API 요청에 대한 CORS 정책을 설정하여 클라이언트와 서버 간의 데이터 전송을 원활하게 합니다.
```
const cors = require('cors');
app.use(cors());
```
### 6. dotenv
환경 변수를 .env 파일에서 로드하는 라이브러리입니다.
프로젝트의 비밀 정보를 안전하게 관리할 수 있습니다.
```
require('dotenv').config();
const dbPassword = process.env.DB_PASSWORD;
```
### 7. express-session
Express 애플리케이션의 세션 관리를 위한 미들웨어입니다.
사용자 인증 정보를 세션에 저장하여 상태를 유지합니다.
```
const session = require('express-session');

app.use(session({
  secret: 'your-secret',
  resave: false,
  saveUninitialized: true,
}));
```
### 8. helmet
Express 애플리케이션의 보안을 강화하는 미들웨어입니다.
다양한 보안 헤더를 설정하여 취약점을 방어합니다.
```
const helmet = require('helmet');
app.use(helmet());
```
### 9. morgan
HTTP 요청 로그를 기록하는 미들웨어입니다.
요청 및 응답 정보를 로그로 남겨 디버깅에 도움을 줍니다.
```
const morgan = require('morgan');
app.use(morgan('combined'));
```
### 10. multer
파일 업로드를 처리하는 미들웨어입니다.
multipart/form-data를 통해 파일을 쉽게 업로드할 수 있습니다.
```
const multer = require('multer');
const upload = multer({ dest: 'uploads/' });

app.post('/upload', upload.single('file'), (req, res) => {
  res.send('File uploaded successfully');
});
```
### 11. passport
사용자 인증 미들웨어로, 다양한 인증 전략을 지원합니다.
```
const passport = require('passport');
const LocalStrategy = require('passport-local').Strategy;

passport.use(new LocalStrategy((username, password, done) => {
  // 사용자 인증 로직
}));
```
### 12. sequelize
Promise 기반의 ORM(Object-Relational Mapping) 라이브러리입니다.
데이터베이스와의 상호작용을 쉽게 해줍니다.
```
const { Sequelize, DataTypes } = require('sequelize');
const sequelize = new Sequelize('mysql://user:pass@localhost:3306/mydb');

const User = sequelize.define('User', {
  username: {
    type: DataTypes.STRING,
    allowNull: false,
  },
  password: {
    type: DataTypes.STRING,
    allowNull: false,
  },
});
```
## 개발 환경 및 빌드 도구
### 1. Cross-env
Cross-env는 환경 변수를 설정할 수 있게 해주는 도구로, 개발 및 운영 환경 전환을 손쉽게 할 수 있습니다.
```
"scripts": {
  "dev": "next -p 3060",
  "build": "cross-env ANALYZE=true NODE_ENV=production next build",
  "start": "cross-env NODE_ENV=production next start -p 3060"
}
```
### 2. PM2
PM2는 Node.js 애플리케이션을 관리하는 프로세스 매니저로, 서버에서 안정적으로 애플리케이션을 운영하기 위해 사용되었습니다.
```
pm2 start npm --name "pess-front" -- run start
```
## 결론
이 문서는 전기차 도선 관제 시스템의 기술 스택과 사용된 주요 라이브러리를 설명하였습니다. 각 라이브러리는 시스템의 안정성과 성능을 높이는 데 기여하였으며, 이 설명서를 통해 개발자들이 프로젝트를 이해하고 활용하는 데 도움이 되기를 바랍니다.
